# PR #3060: Add logs to know when we users are changing the model

- URL: https://github.com/openai/codex/pull/3060
- Author: aibrahim-oai
- Created: 2025-09-02 17:17:19 UTC
- Updated: 2025-09-02 17:59:14 UTC
- Changes: +8/-0, Files changed: 1, Commits: 7

## Description

(No description.)

## Full Diff

```diff
diff --git a/codex-rs/tui/src/chatwidget.rs b/codex-rs/tui/src/chatwidget.rs
index 946d6de901..45d63d74e2 100644
--- a/codex-rs/tui/src/chatwidget.rs
+++ b/codex-rs/tui/src/chatwidget.rs
@@ -1083,6 +1083,7 @@ impl ChatWidget {
             let is_current = preset.model == current_model && preset.effort == current_effort;
             let model_slug = preset.model.to_string();
             let effort = preset.effort;
+            let current_model = current_model.clone();
             let actions: Vec<SelectionAction> = vec![Box::new(move |tx| {
                 tx.send(AppEvent::CodexOp(Op::OverrideTurnContext {
                     cwd: None,
@@ -1094,6 +1095,13 @@ impl ChatWidget {
                 }));
                 tx.send(AppEvent::UpdateModel(model_slug.clone()));
                 tx.send(AppEvent::UpdateReasoningEffort(effort));
+                tracing::info!(
+                    "New model: {}, New effort: {}, Current model: {}, Current effort: {}",
+                    model_slug.clone(),
+                    effort,
+                    current_model,
+                    current_effort
+                );
             })];
             items.push(SelectionItem {
                 name,
```

## Review Comments

### codex-rs/tui/src/chatwidget.rs

- Created: 2025-09-02 17:24:47 UTC | Link: https://github.com/openai/codex/pull/3060#discussion_r2316724558

```diff
@@ -1080,9 +1080,11 @@ impl ChatWidget {
         for preset in presets.iter() {
             let name = preset.label.to_string();
             let description = Some(preset.description.to_string());
-            let is_current = preset.model == current_model && preset.effort == current_effort;
+            let is_current =
+                preset.model == current_model.clone() && preset.effort == current_effort;
```

> Is the `clone()` necessary? We're just doing a comparison?
> 
> ```suggestion
>                 preset.model == current_model && preset.effort == current_effort;
> ```